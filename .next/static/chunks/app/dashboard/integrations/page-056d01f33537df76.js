(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[349],{286:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(157).A)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},333:(e,s,a)=>{"use strict";a.d(s,{d:()=>r});var t=a(5155),l=a(4884),n=a(2115),i=a(1870);let r=n.forwardRef((e,s)=>{let{className:a,...n}=e;return(0,t.jsx)(l.bL,{className:(0,i.cn)("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",a),...n,ref:s,children:(0,t.jsx)(l.zi,{className:(0,i.cn)("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})})});r.displayName=l.bL.displayName},1920:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(157).A)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},2346:(e,s,a)=>{"use strict";a.d(s,{w:()=>r});var t=a(5155),l=a(7489),n=a(2115),i=a(1870);let r=n.forwardRef((e,s)=>{let{className:a,orientation:n="horizontal",decorative:r=!0,...c}=e;return(0,t.jsx)(l.b,{ref:s,decorative:r,orientation:n,className:(0,i.cn)("shrink-0 bg-border","horizontal"===n?"h-[1px] w-full":"h-full w-[1px]",a),...c})});r.displayName=l.b.displayName},2523:(e,s,a)=>{"use strict";a.d(s,{p:()=>i});var t=a(5155),l=a(2115),n=a(1870);let i=l.forwardRef((e,s)=>{let{className:a,type:l,...i}=e;return(0,t.jsx)("input",{type:l,className:(0,n.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:s,...i})});i.displayName="Input"},3497:(e,s,a)=>{Promise.resolve().then(a.bind(a,6851))},3672:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(157).A)("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]])},4165:(e,s,a)=>{"use strict";a.d(s,{Cf:()=>u,Es:()=>h,L3:()=>p,c7:()=>x,lG:()=>c,rr:()=>j,zM:()=>d});var t=a(5155),l=a(5452),n=a(5318),i=a(2115),r=a(1870);let c=l.bL,d=l.l9,o=l.ZL;l.bm;let m=i.forwardRef((e,s)=>{let{className:a,...n}=e;return(0,t.jsx)(l.hJ,{ref:s,className:(0,r.cn)("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...n})});m.displayName=l.hJ.displayName;let u=i.forwardRef((e,s)=>{let{className:a,children:i,...c}=e;return(0,t.jsxs)(o,{children:[(0,t.jsx)(m,{}),(0,t.jsxs)(l.UC,{ref:s,className:(0,r.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...c,children:[i,(0,t.jsxs)(l.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,t.jsx)(n.A,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});u.displayName=l.UC.displayName;let x=e=>{let{className:s,...a}=e;return(0,t.jsx)("div",{className:(0,r.cn)("flex flex-col space-y-1.5 text-center sm:text-left",s),...a})};x.displayName="DialogHeader";let h=e=>{let{className:s,...a}=e;return(0,t.jsx)("div",{className:(0,r.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",s),...a})};h.displayName="DialogFooter";let p=i.forwardRef((e,s)=>{let{className:a,...n}=e;return(0,t.jsx)(l.hE,{ref:s,className:(0,r.cn)("text-lg font-semibold leading-none tracking-tight",a),...n})});p.displayName=l.hE.displayName;let j=i.forwardRef((e,s)=>{let{className:a,...n}=e;return(0,t.jsx)(l.VY,{ref:s,className:(0,r.cn)("text-sm text-muted-foreground",a),...n})});j.displayName=l.VY.displayName},4371:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(157).A)("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},5057:(e,s,a)=>{"use strict";a.d(s,{J:()=>d});var t=a(5155),l=a(968),n=a(2085),i=a(2115),r=a(1870);let c=(0,n.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=i.forwardRef((e,s)=>{let{className:a,...n}=e;return(0,t.jsx)(l.b,{ref:s,className:(0,r.cn)(c(),a),...n})});d.displayName=l.b.displayName},5300:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(157).A)("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])},6851:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>H});var t=a(5155),l=a(2115),n=a(285),i=a(7313),r=a(6671),c=a(3672),d=a(7648),o=a(3989),m=a(9637),u=a(1920),x=a(157);let h=(0,x.A)("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);var p=a(286);let j=[{id:"gmail",name:"Gmail / Google Workspace",description:"Send automated emails, reports, and notifications via Gmail",icon:m.A,category:"email",status:"available",features:["Waste incident alerts","Weekly reports","Task reminders","Team invitations"]},{id:"outlook",name:"Microsoft Outlook",description:"Send emails and manage calendar via Outlook",icon:m.A,category:"email",status:"available",features:["Email notifications","Calendar sync","Task reminders"]},{id:"google-calendar",name:"Google Calendar",description:"Sync tasks, milestones, and events with Google Calendar",icon:u.A,category:"calendar",status:"available",features:["Task sync","Milestone tracking","Kaizen scheduling","5S assessment reminders"]},{id:"slack",name:"Slack",description:"Real-time notifications and team collaboration in Slack",icon:h,category:"communication",status:"available",features:["Waste alerts","Daily standups","AI analysis notifications","Team channels"]},{id:"teams",name:"Microsoft Teams",description:"Notifications and collaboration in Microsoft Teams",icon:p.A,category:"communication",status:"available",features:["Real-time alerts","Channel notifications","Team collaboration"]},{id:"sendgrid",name:"Twilio SendGrid",description:"Transactional emails for automated notifications",icon:c.A,category:"email",status:"available",features:["Bulk emails","Transactional emails","Email analytics"]}],f={email_enabled:!0,slack_enabled:!1,teams_enabled:!1,email_address:"",slack_channel:"",teams_channel:"",waste_incident_alerts:!0,task_reminders:!0,weekly_reports:!0,daily_standups:!1},g={project_id:"",report_type:"weekly_performance",frequency:"weekly",day_of_week:1,time_of_day:"09:00",email_recipients:""};var y=a(6695),v=a(9829),N=a(8127),b=a(6931);function k(e){let{scheduledReportsCount:s,alertsEnabled:a}=e,l=[{label:"Available",value:j.length,icon:v.A,bgColor:"bg-blue-100 dark:bg-blue-900",iconColor:"text-blue-600 dark:text-blue-400"},{label:"Connected",value:0,icon:N.A,bgColor:"bg-green-100 dark:bg-green-900",iconColor:"text-green-600 dark:text-green-400"},{label:"Scheduled Reports",value:s,icon:d.A,bgColor:"bg-purple-100 dark:bg-purple-900",iconColor:"text-purple-600 dark:text-purple-400"},{label:"Alerts Status",value:a?"On":"Off",icon:b.A,bgColor:"bg-orange-100 dark:bg-orange-900",iconColor:"text-orange-600 dark:text-orange-400"}];return(0,t.jsx)("div",{className:"grid gap-4 md:grid-cols-4",children:l.map(e=>(0,t.jsx)(y.Zp,{children:(0,t.jsx)(y.Wu,{className:"pt-6",children:(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:"p-3 ".concat(e.bgColor," rounded-lg"),children:(0,t.jsx)(e.icon,{className:"h-6 w-6 ".concat(e.iconColor)})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-2xl font-bold",children:e.value}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:e.label})]})]})})},e.label))})}var w=a(6126),_=a(1133),C=a(4371);let A=(0,x.A)("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);var S=a(8271),R=a(1840);function T(e){let{integration:s,onConnect:a}=e,l=s.icon;return(0,t.jsxs)(y.Zp,{className:"relative overflow-hidden",children:[(0,t.jsx)(y.aR,{children:(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"p-2 bg-muted rounded-lg",children:(0,t.jsx)(l,{className:"h-6 w-6"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)(y.ZB,{className:"text-lg",children:s.name}),(0,t.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[(e=>{switch(e){case"email":return(0,t.jsx)(m.A,{className:"h-5 w-5"});case"calendar":return(0,t.jsx)(u.A,{className:"h-5 w-5"});case"communication":return(0,t.jsx)(h,{className:"h-5 w-5"});default:return(0,t.jsx)(A,{className:"h-5 w-5"})}})(s.category),(0,t.jsx)("span",{className:"text-xs text-muted-foreground capitalize",children:s.category})]})]})]}),(e=>{switch(e){case"connected":return(0,t.jsxs)(w.E,{className:"bg-green-100 text-green-800",children:[(0,t.jsx)(N.A,{className:"h-3 w-3 mr-1"})," Connected"]});case"available":return(0,t.jsxs)(w.E,{variant:"outline",children:[(0,t.jsx)(_.A,{className:"h-3 w-3 mr-1"})," Available"]});default:return(0,t.jsxs)(w.E,{variant:"secondary",children:[(0,t.jsx)(C.A,{className:"h-3 w-3 mr-1"})," Not Available"]})}})(s.status)]})}),(0,t.jsxs)(y.Wu,{children:[(0,t.jsx)(y.BT,{className:"mb-4",children:s.description}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("p",{className:"text-sm font-medium",children:"Features:"}),(0,t.jsx)("ul",{className:"text-sm text-muted-foreground space-y-1",children:s.features.map((e,s)=>(0,t.jsxs)("li",{className:"flex items-center gap-2",children:[(0,t.jsx)(N.A,{className:"h-3 w-3 text-green-500"}),e]},s))})]}),(0,t.jsx)(n.$,{className:"w-full mt-4",variant:"connected"===s.status?"outline":"default",onClick:()=>a(s),children:"connected"===s.status?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(S.A,{className:"h-4 w-4 mr-2"}),"Configure"]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(R.A,{className:"h-4 w-4 mr-2"}),"Connect"]})})]})]})}function M(e){let{onConnectIntegration:s}=e;return(0,t.jsx)("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:j.map(e=>(0,t.jsx)(T,{integration:e,onConnect:s},e.id))})}var z=a(2523),E=a(5057),q=a(333),J=a(2346);function O(e){let{settings:s,onSettingsChange:a,onSave:l,isSaving:i}=e,r=e=>{a({...s,...e})};return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)(y.Zp,{children:[(0,t.jsxs)(y.aR,{children:[(0,t.jsx)(y.ZB,{children:"Notification Channels"}),(0,t.jsx)(y.BT,{children:"Configure how you want to receive notifications"})]}),(0,t.jsxs)(y.Wu,{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"space-y-0.5",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(m.A,{className:"h-4 w-4"}),(0,t.jsx)(E.J,{children:"Email Notifications"})]}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Receive notifications via email"})]}),(0,t.jsx)(q.d,{checked:s.email_enabled,onCheckedChange:e=>r({email_enabled:e})})]}),s.email_enabled&&(0,t.jsxs)("div",{className:"ml-6",children:[(0,t.jsx)(E.J,{children:"Email Address"}),(0,t.jsx)(z.p,{type:"email",placeholder:"your@email.com",value:s.email_address,onChange:e=>r({email_address:e.target.value}),className:"mt-1"})]}),(0,t.jsx)(J.w,{}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"space-y-0.5",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(h,{className:"h-4 w-4"}),(0,t.jsx)(E.J,{children:"Slack Notifications"})]}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Post notifications to Slack channels"})]}),(0,t.jsx)(q.d,{checked:s.slack_enabled,onCheckedChange:e=>r({slack_enabled:e})})]}),s.slack_enabled&&(0,t.jsxs)("div",{className:"ml-6",children:[(0,t.jsx)(E.J,{children:"Slack Channel"}),(0,t.jsx)(z.p,{placeholder:"#lean-construction",value:s.slack_channel,onChange:e=>r({slack_channel:e.target.value}),className:"mt-1"})]}),(0,t.jsx)(J.w,{}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"space-y-0.5",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(p.A,{className:"h-4 w-4"}),(0,t.jsx)(E.J,{children:"Microsoft Teams Notifications"})]}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Post notifications to Teams channels"})]}),(0,t.jsx)(q.d,{checked:s.teams_enabled,onCheckedChange:e=>r({teams_enabled:e})})]}),s.teams_enabled&&(0,t.jsxs)("div",{className:"ml-6",children:[(0,t.jsx)(E.J,{children:"Teams Channel"}),(0,t.jsx)(z.p,{placeholder:"General",value:s.teams_channel,onChange:e=>r({teams_channel:e.target.value}),className:"mt-1"})]})]})]}),(0,t.jsxs)(y.Zp,{children:[(0,t.jsxs)(y.aR,{children:[(0,t.jsx)(y.ZB,{children:"Notification Types"}),(0,t.jsx)(y.BT,{children:"Choose which events trigger notifications"})]}),(0,t.jsxs)(y.Wu,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"space-y-0.5",children:[(0,t.jsx)(E.J,{children:"Waste Incident Alerts"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Get notified when new waste incidents are reported"})]}),(0,t.jsx)(q.d,{checked:s.waste_incident_alerts,onCheckedChange:e=>r({waste_incident_alerts:e})})]}),(0,t.jsx)(J.w,{}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"space-y-0.5",children:[(0,t.jsx)(E.J,{children:"Task Reminders"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Receive reminders for upcoming task deadlines"})]}),(0,t.jsx)(q.d,{checked:s.task_reminders,onCheckedChange:e=>r({task_reminders:e})})]}),(0,t.jsx)(J.w,{}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"space-y-0.5",children:[(0,t.jsx)(E.J,{children:"Weekly Performance Reports"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Receive AI-generated weekly performance summaries"})]}),(0,t.jsx)(q.d,{checked:s.weekly_reports,onCheckedChange:e=>r({weekly_reports:e})})]}),(0,t.jsx)(J.w,{}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"space-y-0.5",children:[(0,t.jsx)(E.J,{children:"Daily Standup Summaries"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Get daily summaries of tasks and blockers"})]}),(0,t.jsx)(q.d,{checked:s.daily_standups,onCheckedChange:e=>r({daily_standups:e})})]})]}),(0,t.jsx)("div",{className:"p-6 pt-0",children:(0,t.jsx)(n.$,{onClick:l,disabled:i,children:i?"Saving...":"Save Notification Settings"})})]})]})}var W=a(5300),B=a(7406);function L(e){let{reports:s,isLoading:a,onCreateNew:l,onDelete:i}=e;return(0,t.jsxs)(y.Zp,{children:[(0,t.jsx)(y.aR,{children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(y.ZB,{children:"Scheduled Reports"}),(0,t.jsx)(y.BT,{children:"Automated reports sent on a schedule"})]}),(0,t.jsxs)(n.$,{onClick:l,children:[(0,t.jsx)(d.A,{className:"h-4 w-4 mr-2"}),"New Schedule"]})]})}),(0,t.jsx)(y.Wu,{children:a?(0,t.jsx)("p",{className:"text-muted-foreground",children:"Loading..."}):s&&s.length>0?(0,t.jsx)("div",{className:"space-y-4",children:s.map(e=>{var s;return(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("p",{className:"font-medium",children:B.oQ[e.report_type]||e.report_type}),(0,t.jsxs)("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[(0,t.jsxs)("span",{className:"flex items-center gap-1",children:[(0,t.jsx)(d.A,{className:"h-3 w-3"}),e.frequency," at ",e.time_of_day]}),e.project_name&&(0,t.jsxs)("span",{className:"flex items-center gap-1",children:[(0,t.jsx)(W.A,{className:"h-3 w-3"}),e.project_name]})]}),(0,t.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Recipients: ",(null==(s=e.email_recipients)?void 0:s.join(", "))||"None"]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(w.E,{variant:e.is_active?"default":"secondary",children:e.is_active?"Active":"Paused"}),(0,t.jsx)(n.$,{variant:"ghost",size:"sm",onClick:()=>i(e.id),children:(0,t.jsx)(C.A,{className:"h-4 w-4"})})]})]},e.id)})}):(0,t.jsxs)("div",{className:"text-center py-8",children:[(0,t.jsx)(d.A,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"No scheduled reports yet"}),(0,t.jsx)(n.$,{variant:"outline",className:"mt-4",onClick:l,children:"Create Your First Schedule"})]})})]})}var Z=a(5731);function G(){return(0,t.jsxs)(y.Zp,{children:[(0,t.jsxs)(y.aR,{children:[(0,t.jsx)(y.ZB,{children:"Integration Security"}),(0,t.jsx)(y.BT,{children:"Manage API keys and access tokens"})]}),(0,t.jsxs)(y.Wu,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4 p-4 bg-muted rounded-lg",children:[(0,t.jsx)(Z.A,{className:"h-8 w-8 text-green-600"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium",children:"Secure Connection"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"All integrations use encrypted connections and OAuth 2.0 where available"})]})]}),(0,t.jsx)(J.w,{}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-medium mb-2",children:"Connected Accounts"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:'No accounts connected yet. Click "Connect" on an integration above to get started.'})]})]})]})}var P=a(4165);function $(e){let{open:s,onOpenChange:a,integration:l}=e;return(0,t.jsx)(P.lG,{open:s,onOpenChange:a,children:(0,t.jsxs)(P.Cf,{children:[(0,t.jsxs)(P.c7,{children:[(0,t.jsxs)(P.L3,{children:["Connect ",null==l?void 0:l.name]}),(0,t.jsx)(P.rr,{children:null==l?void 0:l.description})]}),(0,t.jsxs)("div",{className:"space-y-4 py-4",children:[(0,t.jsx)("div",{className:"p-4 bg-muted rounded-lg",children:(0,t.jsxs)("p",{className:"text-sm",children:["To connect ",null==l?void 0:l.name,", you'll need to authorize LeanBuild AI to access your account. This integration is available but requires external authorization."]})}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("p",{className:"text-sm font-medium",children:"This integration will enable:"}),(0,t.jsx)("ul",{className:"text-sm text-muted-foreground space-y-1",children:null==l?void 0:l.features.map((e,s)=>(0,t.jsxs)("li",{className:"flex items-center gap-2",children:[(0,t.jsx)(N.A,{className:"h-3 w-3 text-green-500"}),e]},s))})]})]}),(0,t.jsxs)(P.Es,{children:[(0,t.jsx)(n.$,{variant:"outline",onClick:()=>a(!1),children:"Cancel"}),(0,t.jsxs)(n.$,{onClick:()=>{r.oR.info("".concat(null==l?void 0:l.name," integration requires OAuth setup. Please contact support to enable.")),a(!1)},children:[(0,t.jsx)(R.A,{className:"h-4 w-4 mr-2"}),"Connect via OAuth"]})]})]})})}var F=a(9409);function I(e){let{open:s,onOpenChange:a,report:l,onReportChange:i,onSubmit:r,projects:c}=e,d=e=>{i({...l,...e})};return(0,t.jsx)(P.lG,{open:s,onOpenChange:a,children:(0,t.jsxs)(P.Cf,{children:[(0,t.jsxs)(P.c7,{children:[(0,t.jsx)(P.L3,{children:"Schedule New Report"}),(0,t.jsx)(P.rr,{children:"Set up automated reports to be sent on a schedule"})]}),(0,t.jsxs)("div",{className:"space-y-4 py-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(E.J,{children:"Report Type"}),(0,t.jsxs)(F.l6,{value:l.report_type,onValueChange:e=>d({report_type:e}),children:[(0,t.jsx)(F.bq,{children:(0,t.jsx)(F.yv,{})}),(0,t.jsx)(F.gC,{children:Object.entries(B.oQ).map(e=>{let[s,a]=e;return(0,t.jsx)(F.eb,{value:s,children:a},s)})})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(E.J,{children:"Project (Optional)"}),(0,t.jsxs)(F.l6,{value:l.project_id,onValueChange:e=>d({project_id:e}),children:[(0,t.jsx)(F.bq,{children:(0,t.jsx)(F.yv,{placeholder:"All Projects"})}),(0,t.jsxs)(F.gC,{children:[(0,t.jsx)(F.eb,{value:"all",children:"All Projects"}),null==c?void 0:c.map(e=>(0,t.jsx)(F.eb,{value:e.id,children:e.name},e.id))]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(E.J,{children:"Frequency"}),(0,t.jsxs)(F.l6,{value:l.frequency,onValueChange:e=>d({frequency:e}),children:[(0,t.jsx)(F.bq,{children:(0,t.jsx)(F.yv,{})}),(0,t.jsxs)(F.gC,{children:[(0,t.jsx)(F.eb,{value:"daily",children:"Daily"}),(0,t.jsx)(F.eb,{value:"weekly",children:"Weekly"}),(0,t.jsx)(F.eb,{value:"monthly",children:"Monthly"})]})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(E.J,{children:"Time"}),(0,t.jsx)(z.p,{type:"time",value:l.time_of_day,onChange:e=>d({time_of_day:e.target.value})})]})]}),"weekly"===l.frequency&&(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(E.J,{children:"Day of Week"}),(0,t.jsxs)(F.l6,{value:l.day_of_week.toString(),onValueChange:e=>d({day_of_week:parseInt(e)}),children:[(0,t.jsx)(F.bq,{children:(0,t.jsx)(F.yv,{})}),(0,t.jsxs)(F.gC,{children:[(0,t.jsx)(F.eb,{value:"0",children:"Sunday"}),(0,t.jsx)(F.eb,{value:"1",children:"Monday"}),(0,t.jsx)(F.eb,{value:"2",children:"Tuesday"}),(0,t.jsx)(F.eb,{value:"3",children:"Wednesday"}),(0,t.jsx)(F.eb,{value:"4",children:"Thursday"}),(0,t.jsx)(F.eb,{value:"5",children:"Friday"}),(0,t.jsx)(F.eb,{value:"6",children:"Saturday"})]})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(E.J,{children:"Email Recipients (comma-separated)"}),(0,t.jsx)(z.p,{placeholder:"email1@example.com, email2@example.com",value:l.email_recipients,onChange:e=>d({email_recipients:e.target.value})})]})]}),(0,t.jsxs)(P.Es,{children:[(0,t.jsx)(n.$,{variant:"outline",onClick:()=>a(!1),children:"Cancel"}),(0,t.jsx)(n.$,{onClick:r,children:"Create Schedule"})]})]})})}function V(e){let{open:s,onOpenChange:a,email:l,onEmailChange:i,onSend:r}=e;return(0,t.jsx)(P.lG,{open:s,onOpenChange:a,children:(0,t.jsxs)(P.Cf,{children:[(0,t.jsxs)(P.c7,{children:[(0,t.jsx)(P.L3,{children:"Send Test Notification"}),(0,t.jsx)(P.rr,{children:"Send a test email to verify your notification setup"})]}),(0,t.jsx)("div",{className:"space-y-4 py-4",children:(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(E.J,{children:"Email Address"}),(0,t.jsx)(z.p,{type:"email",placeholder:"your@email.com",value:l,onChange:e=>i(e.target.value)})]})}),(0,t.jsxs)(P.Es,{children:[(0,t.jsx)(n.$,{variant:"outline",onClick:()=>a(!1),children:"Cancel"}),(0,t.jsxs)(n.$,{onClick:r,children:[(0,t.jsx)(c.A,{className:"h-4 w-4 mr-2"}),"Send Test"]})]})]})})}function H(){var e;let{data:s}=(0,o.KL)(),{data:a,isLoading:m}=(0,o.mn)(),{data:u}=(0,o.YK)(),[x,h]=(0,l.useState)("overview"),[p,j]=(0,l.useState)(!1),[y,v]=(0,l.useState)(null),[N,b]=(0,l.useState)(!1),[w,_]=(0,l.useState)(!1),[C,A]=(0,l.useState)(""),[S,R]=(0,l.useState)(!1),[T,z]=(0,l.useState)(f);(0,l.useEffect)(()=>{if(null==s?void 0:s[0]){var e,a,t,l,n,i,r,c,d,o;let m=s[0];z({email_enabled:null==(e=m.email_enabled)||e,slack_enabled:null!=(a=m.slack_enabled)&&a,teams_enabled:null!=(t=m.teams_enabled)&&t,email_address:null!=(l=m.email_address)?l:"",slack_channel:null!=(n=m.slack_channel)?n:"",teams_channel:null!=(i=m.teams_channel)?i:"",waste_incident_alerts:null==(r=m.waste_incident_alerts)||r,task_reminders:null==(c=m.task_reminders)||c,weekly_reports:null==(d=m.weekly_reports)||d,daily_standups:null!=(o=m.daily_standups)&&o})}},[s]);let[E,q]=(0,l.useState)(g),J=async()=>{R(!0);try{await (0,o.sA)(T),r.oR.success("Settings saved successfully")}catch(e){r.oR.error("Failed to save settings")}finally{R(!1)}},W=async()=>{if(!E.email_recipients)return void r.oR.error("Please enter at least one email recipient");try{await (0,o._$)({project_id:E.project_id||void 0,report_type:E.report_type,frequency:E.frequency,day_of_week:"weekly"===E.frequency?E.day_of_week:void 0,time_of_day:E.time_of_day,email_recipients:E.email_recipients.split(",").map(e=>e.trim())}),r.oR.success("Scheduled report created"),b(!1),q(g)}catch(e){r.oR.error("Failed to create scheduled report")}},B=async e=>{try{await (0,o.Zp)(e),r.oR.success("Scheduled report deleted")}catch(e){r.oR.error("Failed to delete scheduled report")}},Z=async()=>{if(!C)return void r.oR.error("Please enter an email address");try{let e=await (0,o._Y)({type:"email",channel:"waste_alert",recipients:[C],subject:"\uD83E\uDDEA Test Notification from LeanBuild AI",content:"This is a test notification to verify your email integration is working correctly.\n\nIf you received this email, your notification settings are configured properly!"});e.success?r.oR.success("Test notification sent!"):r.oR.info(e.message||"Notification logged (no email service configured)"),_(!1),A("")}catch(e){r.oR.error("Failed to send test notification")}};return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:"Integrations Hub"}),(0,t.jsx)("p",{className:"text-muted-foreground mt-1",children:"Connect external services for notifications, calendar sync, and team collaboration"})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)(n.$,{variant:"outline",onClick:()=>_(!0),children:[(0,t.jsx)(c.A,{className:"h-4 w-4 mr-2"}),"Send Test"]}),(0,t.jsxs)(n.$,{onClick:()=>b(!0),children:[(0,t.jsx)(d.A,{className:"h-4 w-4 mr-2"}),"Schedule Report"]})]})]}),(0,t.jsx)(k,{scheduledReportsCount:null!=(e=null==a?void 0:a.length)?e:0,alertsEnabled:T.waste_incident_alerts}),(0,t.jsxs)(i.tU,{value:x,onValueChange:h,children:[(0,t.jsxs)(i.j7,{className:"grid w-full grid-cols-4 lg:w-auto lg:inline-grid",children:[(0,t.jsx)(i.Xi,{value:"overview",children:"Overview"}),(0,t.jsx)(i.Xi,{value:"notifications",children:"Notifications"}),(0,t.jsx)(i.Xi,{value:"scheduled",children:"Scheduled"}),(0,t.jsx)(i.Xi,{value:"settings",children:"Settings"})]}),(0,t.jsx)(i.av,{value:"overview",className:"space-y-6",children:(0,t.jsx)(M,{onConnectIntegration:e=>{v(e),j(!0)}})}),(0,t.jsx)(i.av,{value:"notifications",className:"space-y-6",children:(0,t.jsx)(O,{settings:T,onSettingsChange:z,onSave:J,isSaving:S})}),(0,t.jsx)(i.av,{value:"scheduled",className:"space-y-6",children:(0,t.jsx)(L,{reports:a,isLoading:m,onCreateNew:()=>b(!0),onDelete:B})}),(0,t.jsx)(i.av,{value:"settings",className:"space-y-6",children:(0,t.jsx)(G,{})})]}),(0,t.jsx)($,{open:p,onOpenChange:j,integration:y}),(0,t.jsx)(I,{open:N,onOpenChange:b,report:E,onReportChange:q,onSubmit:W,projects:u}),(0,t.jsx)(V,{open:w,onOpenChange:_,email:C,onEmailChange:A,onSend:Z})]})}},7313:(e,s,a)=>{"use strict";a.d(s,{Xi:()=>d,av:()=>o,j7:()=>c,tU:()=>r});var t=a(5155),l=a(704),n=a(2115),i=a(1870);let r=l.bL,c=n.forwardRef((e,s)=>{let{className:a,...n}=e;return(0,t.jsx)(l.B8,{ref:s,className:(0,i.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",a),...n})});c.displayName=l.B8.displayName;let d=n.forwardRef((e,s)=>{let{className:a,...n}=e;return(0,t.jsx)(l.l9,{ref:s,className:(0,i.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",a),...n})});d.displayName=l.l9.displayName;let o=n.forwardRef((e,s)=>{let{className:a,...n}=e;return(0,t.jsx)(l.UC,{ref:s,className:(0,i.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",a),...n})});o.displayName=l.UC.displayName},7406:(e,s,a)=>{"use strict";a.d(s,{Gb:()=>t,oQ:()=>l});let t={pending:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300",compliant:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300",non_compliant:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300"},l={weekly_performance:"Weekly Performance Report",monthly_waste:"Monthly Waste Analysis",project_status:"Project Status Summary","5s_scorecard":"5S Assessment Scorecard"}},7648:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(157).A)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},8271:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(157).A)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])}},e=>{e.O(0,[668,4956,6671,1859,7710,4443,6579,8348,8441,5964,7358],()=>e(e.s=3497)),_N_E=e.O()}]);