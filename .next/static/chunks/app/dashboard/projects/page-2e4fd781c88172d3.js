(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7636],{2523:(e,a,s)=>{"use strict";s.d(a,{p:()=>n});var t=s(5155),l=s(2115),d=s(1870);let n=l.forwardRef((e,a)=>{let{className:s,type:l,...n}=e;return(0,t.jsx)("input",{type:l,className:(0,d.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),ref:a,...n})});n.displayName="Input"},3818:(e,a,s)=>{Promise.resolve().then(s.bind(s,7777))},4165:(e,a,s)=>{"use strict";s.d(a,{Cf:()=>x,Es:()=>p,L3:()=>h,c7:()=>u,lG:()=>i,rr:()=>g,zM:()=>c});var t=s(5155),l=s(5452),d=s(5318),n=s(2115),r=s(1870);let i=l.bL,c=l.l9,o=l.ZL;l.bm;let m=n.forwardRef((e,a)=>{let{className:s,...d}=e;return(0,t.jsx)(l.hJ,{ref:a,className:(0,r.cn)("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),...d})});m.displayName=l.hJ.displayName;let x=n.forwardRef((e,a)=>{let{className:s,children:n,...i}=e;return(0,t.jsxs)(o,{children:[(0,t.jsx)(m,{}),(0,t.jsxs)(l.UC,{ref:a,className:(0,r.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",s),...i,children:[n,(0,t.jsxs)(l.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,t.jsx)(d.A,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});x.displayName=l.UC.displayName;let u=e=>{let{className:a,...s}=e;return(0,t.jsx)("div",{className:(0,r.cn)("flex flex-col space-y-1.5 text-center sm:text-left",a),...s})};u.displayName="DialogHeader";let p=e=>{let{className:a,...s}=e;return(0,t.jsx)("div",{className:(0,r.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",a),...s})};p.displayName="DialogFooter";let h=n.forwardRef((e,a)=>{let{className:s,...d}=e;return(0,t.jsx)(l.hE,{ref:a,className:(0,r.cn)("text-lg font-semibold leading-none tracking-tight",s),...d})});h.displayName=l.hE.displayName;let g=n.forwardRef((e,a)=>{let{className:s,...d}=e;return(0,t.jsx)(l.VY,{ref:a,className:(0,r.cn)("text-sm text-muted-foreground",s),...d})});g.displayName=l.VY.displayName},4838:(e,a,s)=>{"use strict";s.d(a,{SQ:()=>x,_2:()=>u,mB:()=>p,rI:()=>o,ty:()=>m});var t=s(5155),l=s(8698),d=s(3158),n=s(518),r=s(154),i=s(2115),c=s(1870);let o=l.bL,m=l.l9;l.YJ,l.ZL,l.Pb,l.z6,i.forwardRef((e,a)=>{let{className:s,inset:n,children:r,...i}=e;return(0,t.jsxs)(l.ZP,{ref:a,className:(0,c.cn)("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",n&&"pl-8",s),...i,children:[r,(0,t.jsx)(d.A,{className:"ml-auto"})]})}).displayName=l.ZP.displayName,i.forwardRef((e,a)=>{let{className:s,...d}=e;return(0,t.jsx)(l.G5,{ref:a,className:(0,c.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s),...d})}).displayName=l.G5.displayName;let x=i.forwardRef((e,a)=>{let{className:s,sideOffset:d=4,...n}=e;return(0,t.jsx)(l.ZL,{children:(0,t.jsx)(l.UC,{ref:a,sideOffset:d,className:(0,c.cn)("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s),...n})})});x.displayName=l.UC.displayName;let u=i.forwardRef((e,a)=>{let{className:s,inset:d,...n}=e;return(0,t.jsx)(l.q7,{ref:a,className:(0,c.cn)("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",d&&"pl-8",s),...n})});u.displayName=l.q7.displayName,i.forwardRef((e,a)=>{let{className:s,children:d,checked:r,...i}=e;return(0,t.jsxs)(l.H_,{ref:a,className:(0,c.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),checked:r,...i,children:[(0,t.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,t.jsx)(l.VF,{children:(0,t.jsx)(n.A,{className:"h-4 w-4"})})}),d]})}).displayName=l.H_.displayName,i.forwardRef((e,a)=>{let{className:s,children:d,...n}=e;return(0,t.jsxs)(l.hN,{ref:a,className:(0,c.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),...n,children:[(0,t.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,t.jsx)(l.VF,{children:(0,t.jsx)(r.A,{className:"h-2 w-2 fill-current"})})}),d]})}).displayName=l.hN.displayName,i.forwardRef((e,a)=>{let{className:s,inset:d,...n}=e;return(0,t.jsx)(l.JU,{ref:a,className:(0,c.cn)("px-2 py-1.5 text-sm font-semibold",d&&"pl-8",s),...n})}).displayName=l.JU.displayName;let p=i.forwardRef((e,a)=>{let{className:s,...d}=e;return(0,t.jsx)(l.wv,{ref:a,className:(0,c.cn)("-mx-1 my-1 h-px bg-muted",s),...d})});p.displayName=l.wv.displayName},4944:(e,a,s)=>{"use strict";s.d(a,{k:()=>r});var t=s(5155),l=s(5863),d=s(2115),n=s(1870);let r=d.forwardRef((e,a)=>{let{className:s,value:d,...r}=e;return(0,t.jsx)(l.bL,{ref:a,className:(0,n.cn)("relative h-4 w-full overflow-hidden rounded-full bg-secondary",s),...r,children:(0,t.jsx)(l.C1,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:"translateX(-".concat(100-(d||0),"%)")}})})});r.displayName=l.bL.displayName},5057:(e,a,s)=>{"use strict";s.d(a,{J:()=>c});var t=s(5155),l=s(968),d=s(2085),n=s(2115),r=s(1870);let i=(0,d.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=n.forwardRef((e,a)=>{let{className:s,...d}=e;return(0,t.jsx)(l.b,{ref:a,className:(0,r.cn)(i(),s),...d})});c.displayName=l.b.displayName},7777:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>$});var t=s(5155),l=s(2115),d=s(3989),n=s(6695),r=s(285),i=s(2523),c=s(5057),o=s(8539),m=s(6126),x=s(4944),u=s(4165),p=s(9409),h=s(4838),g=s(7649),f=s(1870);let j=g.bL;g.l9;let N=g.ZL,v=l.forwardRef((e,a)=>{let{className:s,...l}=e;return(0,t.jsx)(g.hJ,{className:(0,f.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),...l,ref:a})});v.displayName=g.hJ.displayName;let b=l.forwardRef((e,a)=>{let{className:s,...l}=e;return(0,t.jsxs)(N,{children:[(0,t.jsx)(v,{}),(0,t.jsx)(g.UC,{ref:a,className:(0,f.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",s),...l})]})});b.displayName=g.UC.displayName;let y=e=>{let{className:a,...s}=e;return(0,t.jsx)("div",{className:(0,f.cn)("flex flex-col space-y-2 text-center sm:text-left",a),...s})};y.displayName="AlertDialogHeader";let w=e=>{let{className:a,...s}=e;return(0,t.jsx)("div",{className:(0,f.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",a),...s})};w.displayName="AlertDialogFooter";let _=l.forwardRef((e,a)=>{let{className:s,...l}=e;return(0,t.jsx)(g.hE,{ref:a,className:(0,f.cn)("text-lg font-semibold",s),...l})});_.displayName=g.hE.displayName;let C=l.forwardRef((e,a)=>{let{className:s,...l}=e;return(0,t.jsx)(g.VY,{ref:a,className:(0,f.cn)("text-sm text-muted-foreground",s),...l})});C.displayName=g.VY.displayName;let k=l.forwardRef((e,a)=>{let{className:s,...l}=e;return(0,t.jsx)(g.rc,{ref:a,className:(0,f.cn)((0,r.r)(),s),...l})});k.displayName=g.rc.displayName;let A=l.forwardRef((e,a)=>{let{className:s,...l}=e;return(0,t.jsx)(g.ZD,{ref:a,className:(0,f.cn)((0,r.r)({variant:"outline"}),"mt-2 sm:mt-0",s),...l})});A.displayName=g.ZD.displayName;var F=s(1949),R=s(8046),P=s(5074),S=s(9572),J=s(3173),D=s(659),z=s(8390),L=s(286),E=s(8350),Z=s(7607),T=s(8763),U=s(7223),O=s(3662),B=s(1920),V=s(6671);let H={planning:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300",active:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300",on_hold:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300",completed:"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-300",cancelled:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300"},Y={planning:"Planning",active:"Active",on_hold:"On Hold",completed:"Completed",cancelled:"Cancelled"};function $(){let{data:e,error:a,isLoading:s,mutate:g}=(0,d.YK)(),[f,N]=(0,l.useState)(""),[v,$]=(0,l.useState)("all"),[q,G]=(0,l.useState)(!1),[W,I]=(0,l.useState)(!1),[M,Q]=(0,l.useState)(!1),[K,X]=(0,l.useState)(null),[ee,ea]=(0,l.useState)(!1),[es,et]=(0,l.useState)({name:"",description:"",status:"planning",start_date:"",end_date:"",budget:"",location:"",client_name:""}),el=()=>{et({name:"",description:"",status:"planning",start_date:"",end_date:"",budget:"",location:"",client_name:""})},ed=async()=>{if(!es.name||!es.start_date||!es.budget)return void V.oR.error("Please fill in all required fields");ea(!0);try{await (0,d.gA)({name:es.name,description:es.description,status:es.status,start_date:es.start_date,end_date:es.end_date||null,budget:parseFloat(es.budget),location:es.location,client_name:es.client_name}),V.oR.success("Project created successfully"),G(!1),el(),g()}catch(e){V.oR.error("Failed to create project")}finally{ea(!1)}},en=async()=>{if(!K||!es.name)return void V.oR.error("Please fill in all required fields");ea(!0);try{await (0,d.vr)(K.id,{name:es.name,description:es.description,status:es.status,start_date:es.start_date,end_date:es.end_date||null,budget:parseFloat(es.budget),location:es.location,client_name:es.client_name}),V.oR.success("Project updated successfully"),I(!1),X(null),el(),g()}catch(e){V.oR.error("Failed to update project")}finally{ea(!1)}},er=async()=>{if(K){ea(!0);try{await (0,d.xx)(K.id),V.oR.success("Project deleted successfully"),Q(!1),X(null),g()}catch(e){V.oR.error("Failed to delete project")}finally{ea(!1)}}},ei=(e||[]).filter(e=>{var a,s;let t=e.name.toLowerCase().includes(f.toLowerCase())||(null==(a=e.description)?void 0:a.toLowerCase().includes(f.toLowerCase()))||(null==(s=e.client_name)?void 0:s.toLowerCase().includes(f.toLowerCase())),l="all"===v||e.status===v;return t&&l}),ec=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:0,maximumFractionDigits:0}).format(e),eo=e=>e?new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"Not set";return s?(0,t.jsx)("div",{className:"flex items-center justify-center h-96",children:(0,t.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):a?(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center h-96 gap-4",children:[(0,t.jsx)(F.A,{className:"h-12 w-12 text-red-500"}),(0,t.jsx)("p",{className:"text-lg text-muted-foreground",children:"Failed to load projects"}),(0,t.jsx)(r.$,{onClick:()=>g(),children:"Try Again"})]}):(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold",children:"Projects"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"Manage and monitor your construction projects"})]}),(0,t.jsxs)(u.lG,{open:q,onOpenChange:G,children:[(0,t.jsx)(u.zM,{asChild:!0,children:(0,t.jsxs)(r.$,{onClick:el,children:[(0,t.jsx)(R.A,{className:"h-4 w-4 mr-2"}),"New Project"]})}),(0,t.jsxs)(u.Cf,{className:"sm:max-w-[600px]",children:[(0,t.jsxs)(u.c7,{children:[(0,t.jsx)(u.L3,{children:"Create New Project"}),(0,t.jsx)(u.rr,{children:"Add a new construction project to your portfolio"})]}),(0,t.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,t.jsxs)("div",{className:"grid gap-2",children:[(0,t.jsx)(c.J,{htmlFor:"name",children:"Project Name *"}),(0,t.jsx)(i.p,{id:"name",value:es.name,onChange:e=>et({...es,name:e.target.value}),placeholder:"e.g., Downtown Office Tower"})]}),(0,t.jsxs)("div",{className:"grid gap-2",children:[(0,t.jsx)(c.J,{htmlFor:"description",children:"Description"}),(0,t.jsx)(o.T,{id:"description",value:es.description,onChange:e=>et({...es,description:e.target.value}),placeholder:"Project description...",rows:3})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"grid gap-2",children:[(0,t.jsx)(c.J,{htmlFor:"client_name",children:"Client Name"}),(0,t.jsx)(i.p,{id:"client_name",value:es.client_name,onChange:e=>et({...es,client_name:e.target.value}),placeholder:"e.g., ABC Corporation"})]}),(0,t.jsxs)("div",{className:"grid gap-2",children:[(0,t.jsx)(c.J,{htmlFor:"location",children:"Location"}),(0,t.jsx)(i.p,{id:"location",value:es.location,onChange:e=>et({...es,location:e.target.value}),placeholder:"e.g., New York, NY"})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"grid gap-2",children:[(0,t.jsx)(c.J,{htmlFor:"start_date",children:"Start Date *"}),(0,t.jsx)(i.p,{id:"start_date",type:"date",value:es.start_date,onChange:e=>et({...es,start_date:e.target.value})})]}),(0,t.jsxs)("div",{className:"grid gap-2",children:[(0,t.jsx)(c.J,{htmlFor:"end_date",children:"End Date"}),(0,t.jsx)(i.p,{id:"end_date",type:"date",value:es.end_date,onChange:e=>et({...es,end_date:e.target.value})})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"grid gap-2",children:[(0,t.jsx)(c.J,{htmlFor:"budget",children:"Budget *"}),(0,t.jsx)(i.p,{id:"budget",type:"number",value:es.budget,onChange:e=>et({...es,budget:e.target.value}),placeholder:"e.g., 5000000"})]}),(0,t.jsxs)("div",{className:"grid gap-2",children:[(0,t.jsx)(c.J,{htmlFor:"status",children:"Status"}),(0,t.jsxs)(p.l6,{value:es.status,onValueChange:e=>et({...es,status:e}),children:[(0,t.jsx)(p.bq,{children:(0,t.jsx)(p.yv,{})}),(0,t.jsxs)(p.gC,{children:[(0,t.jsx)(p.eb,{value:"planning",children:"Planning"}),(0,t.jsx)(p.eb,{value:"active",children:"Active"}),(0,t.jsx)(p.eb,{value:"on_hold",children:"On Hold"}),(0,t.jsx)(p.eb,{value:"completed",children:"Completed"})]})]})]})]})]}),(0,t.jsxs)(u.Es,{children:[(0,t.jsx)(r.$,{variant:"outline",onClick:()=>G(!1),children:"Cancel"}),(0,t.jsx)(r.$,{onClick:ed,disabled:ee,children:ee?"Creating...":"Create Project"})]})]})]})]}),(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[(0,t.jsxs)("div",{className:"relative flex-1",children:[(0,t.jsx)(P.A,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,t.jsx)(i.p,{placeholder:"Search projects...",value:f,onChange:e=>N(e.target.value),className:"pl-10"})]}),(0,t.jsxs)(p.l6,{value:v,onValueChange:$,children:[(0,t.jsxs)(p.bq,{className:"w-full sm:w-[180px]",children:[(0,t.jsx)(S.A,{className:"h-4 w-4 mr-2"}),(0,t.jsx)(p.yv,{placeholder:"Filter by status"})]}),(0,t.jsxs)(p.gC,{children:[(0,t.jsx)(p.eb,{value:"all",children:"All Statuses"}),(0,t.jsx)(p.eb,{value:"planning",children:"Planning"}),(0,t.jsx)(p.eb,{value:"active",children:"Active"}),(0,t.jsx)(p.eb,{value:"on_hold",children:"On Hold"}),(0,t.jsx)(p.eb,{value:"completed",children:"Completed"})]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,t.jsx)(n.Zp,{children:(0,t.jsx)(n.Wu,{className:"pt-6",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"p-2 bg-blue-100 dark:bg-blue-900 rounded-lg",children:(0,t.jsx)(J.A,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-2xl font-bold",children:(null==e?void 0:e.length)||0}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Total Projects"})]})]})})}),(0,t.jsx)(n.Zp,{children:(0,t.jsx)(n.Wu,{className:"pt-6",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"p-2 bg-green-100 dark:bg-green-900 rounded-lg",children:(0,t.jsx)(D.A,{className:"h-5 w-5 text-green-600 dark:text-green-400"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-2xl font-bold",children:(null==e?void 0:e.filter(e=>"active"===e.status).length)||0}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Active"})]})]})})}),(0,t.jsx)(n.Zp,{children:(0,t.jsx)(n.Wu,{className:"pt-6",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"p-2 bg-yellow-100 dark:bg-yellow-900 rounded-lg",children:(0,t.jsx)(z.A,{className:"h-5 w-5 text-yellow-600 dark:text-yellow-400"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-2xl font-bold",children:ec((null==e?void 0:e.reduce((e,a)=>e+(a.budget||0),0))||0)}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Total Budget"})]})]})})}),(0,t.jsx)(n.Zp,{children:(0,t.jsx)(n.Wu,{className:"pt-6",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"p-2 bg-purple-100 dark:bg-purple-900 rounded-lg",children:(0,t.jsx)(L.A,{className:"h-5 w-5 text-purple-600 dark:text-purple-400"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-2xl font-bold",children:new Set(null==e?void 0:e.map(e=>e.client_name).filter(Boolean)).size||0}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Clients"})]})]})})})]}),0===ei.length?(0,t.jsx)(n.Zp,{children:(0,t.jsxs)(n.Wu,{className:"flex flex-col items-center justify-center py-12",children:[(0,t.jsx)(J.A,{className:"h-12 w-12 text-muted-foreground mb-4"}),(0,t.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"No projects found"}),(0,t.jsx)("p",{className:"text-muted-foreground text-center mb-4",children:f||"all"!==v?"Try adjusting your search or filters":"Get started by creating your first project"}),!f&&"all"===v&&(0,t.jsxs)(r.$,{onClick:()=>G(!0),children:[(0,t.jsx)(R.A,{className:"h-4 w-4 mr-2"}),"Create Project"]})]})}):(0,t.jsx)("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:ei.map(e=>(0,t.jsxs)(n.Zp,{className:"hover:shadow-lg transition-shadow",children:[(0,t.jsxs)(n.aR,{className:"pb-3",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{className:"space-y-1 flex-1 min-w-0",children:[(0,t.jsx)(n.ZB,{className:"text-lg truncate",children:e.name}),(0,t.jsx)(n.BT,{className:"line-clamp-2",children:e.description||"No description"})]}),(0,t.jsxs)(h.rI,{children:[(0,t.jsx)(h.ty,{asChild:!0,children:(0,t.jsx)(r.$,{variant:"ghost",size:"icon",className:"shrink-0",children:(0,t.jsx)(E.A,{className:"h-4 w-4"})})}),(0,t.jsxs)(h.SQ,{align:"end",children:[(0,t.jsxs)(h._2,{children:[(0,t.jsx)(Z.A,{className:"h-4 w-4 mr-2"}),"View Details"]}),(0,t.jsxs)(h._2,{onClick:()=>{var a,s,t;X(e),et({name:e.name,description:e.description||"",status:e.status,start_date:(null==(a=e.start_date)?void 0:a.split("T")[0])||"",end_date:(null==(s=e.end_date)?void 0:s.split("T")[0])||"",budget:(null==(t=e.budget)?void 0:t.toString())||"",location:e.location||"",client_name:e.client_name||""}),I(!0)},children:[(0,t.jsx)(T.A,{className:"h-4 w-4 mr-2"}),"Edit"]}),(0,t.jsx)(h.mB,{}),(0,t.jsxs)(h._2,{className:"text-red-600",onClick:()=>{X(e),Q(!0)},children:[(0,t.jsx)(U.A,{className:"h-4 w-4 mr-2"}),"Delete"]})]})]})]}),(0,t.jsx)(m.E,{className:H[e.status]||H.planning,children:Y[e.status]||e.status})]}),(0,t.jsxs)(n.Wu,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,t.jsx)("span",{className:"text-muted-foreground",children:"Progress"}),(0,t.jsxs)("span",{className:"font-medium",children:[e.progress||0,"%"]})]}),(0,t.jsx)(x.k,{value:e.progress||0,className:"h-2"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(z.A,{className:"h-4 w-4 text-muted-foreground"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium",children:ec(e.budget||0)}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Budget"})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(z.A,{className:"h-4 w-4 text-muted-foreground"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium",children:ec(e.spent||0)}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Spent"})]})]})]}),(0,t.jsxs)("div",{className:"space-y-2 text-sm",children:[e.client_name&&(0,t.jsxs)("div",{className:"flex items-center gap-2 text-muted-foreground",children:[(0,t.jsx)(L.A,{className:"h-4 w-4"}),(0,t.jsx)("span",{children:e.client_name})]}),e.location&&(0,t.jsxs)("div",{className:"flex items-center gap-2 text-muted-foreground",children:[(0,t.jsx)(O.A,{className:"h-4 w-4"}),(0,t.jsx)("span",{children:e.location})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 text-muted-foreground",children:[(0,t.jsx)(B.A,{className:"h-4 w-4"}),(0,t.jsxs)("span",{children:[eo(e.start_date)," - ",eo(e.end_date)]})]})]})]})]},e.id))}),(0,t.jsx)(u.lG,{open:W,onOpenChange:I,children:(0,t.jsxs)(u.Cf,{className:"sm:max-w-[600px]",children:[(0,t.jsxs)(u.c7,{children:[(0,t.jsx)(u.L3,{children:"Edit Project"}),(0,t.jsx)(u.rr,{children:"Update the project details"})]}),(0,t.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,t.jsxs)("div",{className:"grid gap-2",children:[(0,t.jsx)(c.J,{htmlFor:"edit-name",children:"Project Name *"}),(0,t.jsx)(i.p,{id:"edit-name",value:es.name,onChange:e=>et({...es,name:e.target.value})})]}),(0,t.jsxs)("div",{className:"grid gap-2",children:[(0,t.jsx)(c.J,{htmlFor:"edit-description",children:"Description"}),(0,t.jsx)(o.T,{id:"edit-description",value:es.description,onChange:e=>et({...es,description:e.target.value}),rows:3})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"grid gap-2",children:[(0,t.jsx)(c.J,{htmlFor:"edit-client_name",children:"Client Name"}),(0,t.jsx)(i.p,{id:"edit-client_name",value:es.client_name,onChange:e=>et({...es,client_name:e.target.value})})]}),(0,t.jsxs)("div",{className:"grid gap-2",children:[(0,t.jsx)(c.J,{htmlFor:"edit-location",children:"Location"}),(0,t.jsx)(i.p,{id:"edit-location",value:es.location,onChange:e=>et({...es,location:e.target.value})})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"grid gap-2",children:[(0,t.jsx)(c.J,{htmlFor:"edit-start_date",children:"Start Date *"}),(0,t.jsx)(i.p,{id:"edit-start_date",type:"date",value:es.start_date,onChange:e=>et({...es,start_date:e.target.value})})]}),(0,t.jsxs)("div",{className:"grid gap-2",children:[(0,t.jsx)(c.J,{htmlFor:"edit-end_date",children:"End Date"}),(0,t.jsx)(i.p,{id:"edit-end_date",type:"date",value:es.end_date,onChange:e=>et({...es,end_date:e.target.value})})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"grid gap-2",children:[(0,t.jsx)(c.J,{htmlFor:"edit-budget",children:"Budget *"}),(0,t.jsx)(i.p,{id:"edit-budget",type:"number",value:es.budget,onChange:e=>et({...es,budget:e.target.value})})]}),(0,t.jsxs)("div",{className:"grid gap-2",children:[(0,t.jsx)(c.J,{htmlFor:"edit-status",children:"Status"}),(0,t.jsxs)(p.l6,{value:es.status,onValueChange:e=>et({...es,status:e}),children:[(0,t.jsx)(p.bq,{children:(0,t.jsx)(p.yv,{})}),(0,t.jsxs)(p.gC,{children:[(0,t.jsx)(p.eb,{value:"planning",children:"Planning"}),(0,t.jsx)(p.eb,{value:"active",children:"Active"}),(0,t.jsx)(p.eb,{value:"on_hold",children:"On Hold"}),(0,t.jsx)(p.eb,{value:"completed",children:"Completed"}),(0,t.jsx)(p.eb,{value:"cancelled",children:"Cancelled"})]})]})]})]})]}),(0,t.jsxs)(u.Es,{children:[(0,t.jsx)(r.$,{variant:"outline",onClick:()=>I(!1),children:"Cancel"}),(0,t.jsx)(r.$,{onClick:en,disabled:ee,children:ee?"Saving...":"Save Changes"})]})]})}),(0,t.jsx)(j,{open:M,onOpenChange:Q,children:(0,t.jsxs)(b,{children:[(0,t.jsxs)(y,{children:[(0,t.jsx)(_,{children:"Delete Project"}),(0,t.jsxs)(C,{children:['Are you sure you want to delete "',null==K?void 0:K.name,'"? This action cannot be undone. All associated data including waste incidents, recommendations, and team assignments will be permanently removed.']})]}),(0,t.jsxs)(w,{children:[(0,t.jsx)(A,{children:"Cancel"}),(0,t.jsx)(k,{onClick:er,className:"bg-red-600 hover:bg-red-700",disabled:ee,children:ee?"Deleting...":"Delete Project"})]})]})})]})}},8539:(e,a,s)=>{"use strict";s.d(a,{T:()=>n});var t=s(5155),l=s(2115),d=s(1870);let n=l.forwardRef((e,a)=>{let{className:s,...l}=e;return(0,t.jsx)("textarea",{className:(0,d.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),ref:a,...l})});n.displayName="Textarea"}},e=>{e.O(0,[668,4956,6671,1859,7710,4443,8782,5902,8348,8441,5964,7358],()=>e(e.s=3818)),_N_E=e.O()}]);